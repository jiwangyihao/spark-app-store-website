import{f as W,c as w,h as S,k as Q,am as rt,an as lt,r as _,g as j,ao as fe,V as je,a0 as st,ae as Le,L as X,ac as Me,w as T,o as O,j as te,ah as ct,K as Ve,ap as ut,aq as se,b as dt,ar as ft,as as vt,at as pt,aa as qe,ag as ht,au as mt,av as gt,aw as bt,Q as wt,H as we,af as xt,a9 as yt,a as kt,ax as _t,_ as Vt,u as Et,ay as qt,az as St,a5 as Ie,v as R,x as G,y as E,a8 as ie,C as I,F as ze,A as He,d as re,z as Y,aA as xe,D as ye,aB as ke,ai as Bt,B as Tt,W as Ct}from"./index.2d859bae.js";import{u as Se,a as Be}from"./use-dark.34335cd1.js";import{c as Pt}from"./selection.06cd29d8.js";import{g as $t,a as Lt}from"./scroll.db46ae81.js";import{api as _e}from"./api.5e35a1fb.js";var Mt=W({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const a=w(()=>parseInt(e.lines,10)),o=w(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),n=w(()=>e.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>S("div",{style:n.value,class:o.value},Q(t.default))}}),It=W({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const a=w(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>S("div",{class:a.value},Q(t.default))}}),zt=W({name:"QItem",props:{...Se,...rt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=j(),n=Be(e,o),{hasRouterLink:r,hasLink:i,linkProps:u,linkClass:d,linkTag:c,navigateToRouterLink:s}=lt(),y=_(null),k=_(null),l=w(()=>e.clickable===!0||i.value===!0||e.tag==="label"),f=w(()=>e.disable!==!0&&l.value===!0),q=w(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(n.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?d.value:e.active===!0?`${e.activeClass!==void 0?` ${e.activeClass}`:""} q-item--active`:"")+(e.disable===!0?" disabled":"")+(f.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),B=w(()=>{if(e.insetLevel===void 0)return null;const g=o.lang.rtl===!0?"Right":"Left";return{["padding"+g]:16+e.insetLevel*56+"px"}});function v(g){f.value===!0&&(k.value!==null&&(g.qKeyEvent!==!0&&document.activeElement===y.value?k.value.focus():document.activeElement===k.value&&y.value.focus()),r.value===!0&&s(g),a("click",g))}function m(g){if(f.value===!0&&fe(g,13)===!0){je(g),g.qKeyEvent=!0;const $=new MouseEvent("click",g);$.qKeyEvent=!0,y.value.dispatchEvent($)}a("keyup",g)}function C(){const g=st(t.default,[]);return f.value===!0&&g.unshift(S("div",{class:"q-focus-helper",tabindex:-1,ref:k})),g}return()=>{const g={ref:y,class:q.value,style:B.value,onClick:v,onKeyup:m};return f.value===!0?(g.tabindex=e.tabindex||"0",Object.assign(g,u.value)):l.value===!0&&(g["aria-disabled"]="true"),S(c.value,g,C())}}}),Ht=W({name:"QList",props:{...Se,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const a=j(),o=Be(e,a.proxy.$q),n=w(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(o.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>S("div",{class:n.value},Q(t.default))}}),Dt=W({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const a=w(()=>{const o=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${o.length>0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>S("div",{class:a.value},Q(t.default))}});const Wt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function At({showing:e,avoidEmit:t,configureAnchorEl:a}){const{props:o,proxy:n,emit:r}=j(),i=_(null);let u;function d(l){return i.value===null?!1:l===void 0||l.touches===void 0||l.touches.length<=1}const c={};a===void 0&&(Object.assign(c,{hide(l){n.hide(l)},toggle(l){n.toggle(l),l.qAnchorHandled=!0},toggleKey(l){fe(l,13)===!0&&c.toggle(l)},contextClick(l){n.hide(l),Le(l),X(()=>{n.show(l),l.qAnchorHandled=!0})},prevent:Le,mobileTouch(l){if(c.mobileCleanup(l),d(l)!==!0)return;n.hide(l),i.value.classList.add("non-selectable");const f=l.target;Me(c,"anchor",[[f,"touchmove","mobileCleanup","passive"],[f,"touchend","mobileCleanup","passive"],[f,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),u=setTimeout(()=>{n.show(l),l.qAnchorHandled=!0},300)},mobileCleanup(l){i.value.classList.remove("non-selectable"),clearTimeout(u),e.value===!0&&l!==void 0&&Pt()}}),a=function(l=o.contextMenu){if(o.noParentEvent===!0||i.value===null)return;let f;l===!0?n.$q.platform.is.mobile===!0?f=[[i.value,"touchstart","mobileTouch","passive"]]:f=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:f=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],Me(c,"anchor",f)});function s(){ct(c,"anchor")}function y(l){for(i.value=l;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;a()}function k(){if(o.target===!1||o.target===""||n.$el.parentNode===null)i.value=null;else if(o.target===!0)y(n.$el.parentNode);else{let l=o.target;if(typeof o.target=="string")try{l=document.querySelector(o.target)}catch{l=void 0}l!=null?(i.value=l.$el||l,a()):(i.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return T(()=>o.contextMenu,l=>{i.value!==null&&(s(),a(l))}),T(()=>o.target,()=>{i.value!==null&&s(),k()}),T(()=>o.noParentEvent,l=>{i.value!==null&&(l===!0?s():a())}),O(()=>{k(),t!==!0&&o.modelValue===!0&&i.value===null&&r("update:modelValue",!1)}),te(()=>{clearTimeout(u),s()}),{anchorEl:i,canShow:d,anchorEvents:c}}function Rt(e,t){const a=_(null);let o;function n(u,d){const c=`${d!==void 0?"add":"remove"}EventListener`,s=d!==void 0?d:o;u!==window&&u[c]("scroll",s,Ve.passive),window[c]("scroll",s,Ve.passive),o=d}function r(){a.value!==null&&(n(a.value),a.value=null)}const i=T(()=>e.noParentEvent,()=>{a.value!==null&&(r(),t())});return te(i),{localScrollTarget:a,unconfigureScrollTarget:r,changeScrollEvent:n}}const Ot={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Ft=["before-show","show","before-hide","hide"];function Nt({showing:e,canShow:t,hideOnRouteChange:a,handleShow:o,handleHide:n,processOnMount:r}){const i=j(),{props:u,emit:d,proxy:c}=i;let s;function y(m){e.value===!0?f(m):k(m)}function k(m){if(u.disable===!0||m!==void 0&&m.qAnchorHandled===!0||t!==void 0&&t(m)!==!0)return;const C=u["onUpdate:modelValue"]!==void 0;C===!0&&(d("update:modelValue",!0),s=m,X(()=>{s===m&&(s=void 0)})),(u.modelValue===null||C===!1)&&l(m)}function l(m){e.value!==!0&&(e.value=!0,d("before-show",m),o!==void 0?o(m):d("show",m))}function f(m){if(u.disable===!0)return;const C=u["onUpdate:modelValue"]!==void 0;C===!0&&(d("update:modelValue",!1),s=m,X(()=>{s===m&&(s=void 0)})),(u.modelValue===null||C===!1)&&q(m)}function q(m){e.value!==!1&&(e.value=!1,d("before-hide",m),n!==void 0?n(m):d("hide",m))}function B(m){u.disable===!0&&m===!0?u["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!1):m===!0!==e.value&&(m===!0?l:q)(s)}T(()=>u.modelValue,B),a!==void 0&&ut(i)===!0&&T(()=>c.$route.fullPath,()=>{a.value===!0&&e.value===!0&&f()}),r===!0&&O(()=>{B(u.modelValue)});const v={show:k,hide:f,toggle:y};return Object.assign(c,v),v}let J=[],ee=[];function Ke(e){ee=ee.filter(t=>t!==e)}function Qt(e){Ke(e),ee.push(e)}function De(e){Ke(e),ee.length===0&&J.length>0&&(J[J.length-1](),J=[])}function jt(e){ee.length===0?e():J.push(e)}const F=[];function Kt(e){return F.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function Ue(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return se(e)}else if(e.__qPortalInnerRef!==void 0){const a=se(e);return a!==void 0&&a.$options.name==="QPopupProxy"?(e.hide(t),a):e}e=se(e)}while(e!=null)}function Ut(e,t,a){for(;a!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(a--,e.$options.name==="QMenu"){e=Ue(e,t);continue}e.hide(t)}e=se(e)}}function Gt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Yt(e,t,a,o){const n=_(!1),r=_(!1);let i=null;const u={},d=o===!0&&Gt(e);function c(y){if(y===!0){De(u),r.value=!0;return}r.value=!1,n.value===!1&&(d===!1&&i===null&&(i=vt()),n.value=!0,F.push(e.proxy),Qt(u))}function s(y){if(r.value=!1,y!==!0)return;De(u),n.value=!1;const k=F.indexOf(e.proxy);k>-1&&F.splice(k,1),i!==null&&(pt(i),i=null)}return dt(()=>{s(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:c,hidePortal:s,portalIsActive:n,portalIsAccessible:r,renderPortal:()=>d===!0?a():n.value===!0?[S(ft,{to:i},a())]:void 0}}const Jt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Zt(e,t){const a=_(t.value);return T(t,o=>{X(()=>{a.value=o})}),{transition:w(()=>"q-transition--"+(a.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:w(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Xt(){let e;return te(()=>{e=void 0}),{registerTick(t){e=t,X(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}function ea(){let e;return te(()=>{clearTimeout(e)}),{registerTimeout(t,a){clearTimeout(e),e=setTimeout(t,a)},removeTimeout(){clearTimeout(e)}}}const z=[];let N;function ta(e){N=e.keyCode===27}function aa(){N===!0&&(N=!1)}function na(e){N===!0&&(N=!1,fe(e,27)===!0&&z[z.length-1](e))}function Ge(e){window[e]("keydown",ta),window[e]("blur",aa),window[e]("keyup",na),N=!1}function oa(e){qe.is.desktop===!0&&(z.push(e),z.length===1&&Ge("addEventListener"))}function We(e){const t=z.indexOf(e);t>-1&&(z.splice(t,1),z.length===0&&Ge("removeEventListener"))}const H=[];function Ye(e){H[H.length-1](e)}function ia(e){qe.is.desktop===!0&&(H.push(e),H.length===1&&document.body.addEventListener("focusin",Ye))}function ra(e){const t=H.indexOf(e);t>-1&&(H.splice(t,1),H.length===0&&document.body.removeEventListener("focusin",Ye))}let Je;const{notPassiveCapture:ce}=Ve,D=[];function ue(e){clearTimeout(Je);const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let a=F.length-1;for(;a>=0;){const o=F[a].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;a--}for(let o=D.length-1;o>=0;o--){const n=D[o];if((n.anchorEl.value===null||n.anchorEl.value.contains(t)===!1)&&(t===document.body||n.innerRef.value!==null&&n.innerRef.value.contains(t)===!1))e.qClickOutside=!0,n.onClickOutside(e);else return}}function la(e){D.push(e),D.length===1&&(document.addEventListener("mousedown",ue,ce),document.addEventListener("touchstart",ue,ce))}function Ae(e){const t=D.findIndex(a=>a===e);t>-1&&(D.splice(t,1),D.length===0&&(clearTimeout(Je),document.removeEventListener("mousedown",ue,ce),document.removeEventListener("touchstart",ue,ce)))}let Re,Oe;function Fe(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function sa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ee={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ee[`${e}#ltr`]=e,Ee[`${e}#rtl`]=e});function Ne(e,t){const a=e.split(" ");return{vertical:a[0],horizontal:Ee[`${a[1]}#${t===!0?"rtl":"ltr"}`]}}function ca(e,t){let{top:a,left:o,right:n,bottom:r,width:i,height:u}=e.getBoundingClientRect();return t!==void 0&&(a-=t[1],o-=t[0],r+=t[1],n+=t[0],i+=t[0],u+=t[1]),{top:a,left:o,right:n,bottom:r,width:i,height:u,middle:o+(n-o)/2,center:a+(r-a)/2}}function ua(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function da(e){if(qe.is.ios===!0&&window.visualViewport!==void 0){const u=document.body.style,{offsetLeft:d,offsetTop:c}=window.visualViewport;d!==Re&&(u.setProperty("--q-pe-left",d+"px"),Re=d),c!==Oe&&(u.setProperty("--q-pe-top",c+"px"),Oe=c)}let t;const{scrollLeft:a,scrollTop:o}=e.el;if(e.absoluteOffset===void 0)t=ca(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:u,left:d}=e.anchorEl.getBoundingClientRect(),c=u+e.absoluteOffset.top,s=d+e.absoluteOffset.left;t={top:c,left:s,width:1,height:1,right:s+1,center:c,middle:s,bottom:c+1}}let n={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(n.minWidth=t.width+"px",e.cover===!0&&(n.minHeight=t.height+"px")),Object.assign(e.el.style,n);const r=ua(e.el),i={top:t[e.anchorOrigin.vertical]-r[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-r[e.selfOrigin.horizontal]};fa(i,t,r,e.anchorOrigin,e.selfOrigin),n={top:i.top+"px",left:i.left+"px"},i.maxHeight!==void 0&&(n.maxHeight=i.maxHeight+"px",t.height>i.maxHeight&&(n.minHeight=n.maxHeight)),i.maxWidth!==void 0&&(n.maxWidth=i.maxWidth+"px",t.width>i.maxWidth&&(n.minWidth=n.maxWidth)),Object.assign(e.el.style,n),e.el.scrollTop!==o&&(e.el.scrollTop=o),e.el.scrollLeft!==a&&(e.el.scrollLeft=a)}function fa(e,t,a,o,n){const r=a.bottom,i=a.right,u=$t(),d=window.innerHeight-u,c=document.body.clientWidth;if(e.top<0||e.top+r>d)if(n.vertical==="center")e.top=t[o.vertical]>d/2?Math.max(0,d-r):0,e.maxHeight=Math.min(r,d);else if(t[o.vertical]>d/2){const s=Math.min(d,o.vertical==="center"?t.center:o.vertical===n.vertical?t.bottom:t.top);e.maxHeight=Math.min(r,s),e.top=Math.max(0,s-r)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===n.vertical?t.top:t.bottom),e.maxHeight=Math.min(r,d-e.top);if(e.left<0||e.left+i>c)if(e.maxWidth=Math.min(i,c),n.horizontal==="middle")e.left=t[o.horizontal]>c/2?Math.max(0,c-i):0;else if(t[o.horizontal]>c/2){const s=Math.min(c,o.horizontal==="middle"?t.middle:o.horizontal===n.horizontal?t.right:t.left);e.maxWidth=Math.min(i,s),e.left=Math.max(0,s-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===n.horizontal?t.left:t.right),e.maxWidth=Math.min(i,c-e.left)}var va=W({name:"QMenu",inheritAttrs:!1,props:{...Wt,...Ot,...Se,...Jt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Fe},self:{type:String,validator:Fe},offset:{type:Array,validator:sa},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ft,"click","escape-key"],setup(e,{slots:t,emit:a,attrs:o}){let n=null,r,i,u;const d=j(),{proxy:c}=d,{$q:s}=c,y=_(null),k=_(!1),l=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),f=Be(e,s),{registerTick:q,removeTick:B}=Xt(),{registerTimeout:v,removeTimeout:m}=ea(),{transition:C,transitionStyle:g}=Zt(e,k),{localScrollTarget:$,changeScrollEvent:ve,unconfigureScrollTarget:pe}=Rt(e,Pe),{anchorEl:L,canShow:he}=At({showing:k}),{hide:V}=Nt({showing:k,canShow:he,handleShow:Te,handleHide:oe,hideOnRouteChange:l,processOnMount:!0}),{showPortal:ae,hidePortal:ne,renderPortal:me}=Yt(d,y,nt),x={anchorEl:L,innerRef:y,onClickOutside(h){if(e.persistent!==!0&&k.value===!0)return V(h),(h.type==="touchstart"||h.target.classList.contains("q-dialog__backdrop"))&&je(h),!0}},b=w(()=>Ne(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),p=w(()=>e.cover===!0?b.value:Ne(e.self||"top start",s.lang.rtl)),P=w(()=>(e.square===!0?" q-menu--square":"")+(f.value===!0?" q-menu--dark q-dark":"")),M=w(()=>e.autoClose===!0?{onClick:at}:{}),K=w(()=>k.value===!0&&e.persistent!==!0);T(K,h=>{h===!0?(oa(ge),la(x)):(We(ge),Ae(x))});function A(){jt(()=>{let h=y.value;h&&h.contains(document.activeElement)!==!0&&(h=h.querySelector("[autofocus], [data-autofocus]")||h,h.focus({preventScroll:!0}))})}function Te(h){if(B(),m(),n=e.noRefocus===!1?document.activeElement:null,ia($e),ae(),Pe(),r=void 0,h!==void 0&&(e.touchPosition||e.contextMenu)){const be=ht(h);if(be.left!==void 0){const{top:ot,left:it}=L.value.getBoundingClientRect();r={left:be.left-it,top:be.top-ot}}}i===void 0&&(i=T(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,U)),e.noFocus!==!0&&document.activeElement.blur(),q(()=>{U(),e.noFocus!==!0&&A()}),v(()=>{s.platform.is.ios===!0&&(u=e.autoClose,y.value.click()),U(),ae(!0),a("show",h)},e.transitionDuration)}function oe(h){B(),m(),ne(),Ce(!0),n!==null&&(h===void 0||h.qClickOutside!==!0)&&(n.focus(),n=null),v(()=>{ne(!0),a("hide",h)},e.transitionDuration)}function Ce(h){r=void 0,i!==void 0&&(i(),i=void 0),(h===!0||k.value===!0)&&(ra($e),pe(),Ae(x),We(ge)),h!==!0&&(n=null)}function Pe(){(L.value!==null||e.scrollTarget!==void 0)&&($.value=Lt(L.value,e.scrollTarget),ve($.value,U))}function at(h){u!==!0?(Ue(c,h),a("click",h)):u=!1}function $e(h){K.value===!0&&e.noFocus!==!0&&gt(y.value,h.target)!==!0&&A()}function ge(h){a("escape-key"),V(h)}function U(){const h=y.value;h===null||L.value===null||da({el:h,offset:e.offset,anchorEl:L.value,anchorOrigin:b.value,selfOrigin:p.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function nt(){return S(mt,{name:C.value,appear:!0},()=>k.value===!0?S("div",{...o,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+P.value,o.class],style:[o.style,g.value],...M.value},Q(t.default)):null)}return te(Ce),Object.assign(c,{focus:A,updatePosition:U}),me}}),pa=W({name:"QBtnDropdown",props:{...bt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean},emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:a}){const{proxy:o}=j(),n=_(e.modelValue),r=_(null),i=w(()=>{const v={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true"};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(v["aria-disabled"]="true"),v}),u=w(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":""));T(()=>e.modelValue,v=>{r.value!==null&&r.value[v?"show":"hide"]()}),T(()=>e.split,B);function d(v){n.value=!0,a("before-show",v)}function c(v){a("show",v),a("update:modelValue",!0)}function s(v){n.value=!1,a("before-hide",v)}function y(v){a("hide",v),a("update:modelValue",!1)}function k(v){a("click",v)}function l(v){xt(v),B(),a("click",v)}function f(v){r.value!==null&&r.value.toggle(v)}function q(v){r.value!==null&&r.value.show(v)}function B(v){r.value!==null&&r.value.hide(v)}return Object.assign(o,{show:q,hide:B,toggle:f}),O(()=>{e.modelValue===!0&&q()}),()=>{const v=[S(wt,{class:u.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&v.push(S(va,{ref:r,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:d,onShow:c,onBeforeHide:s,onHide:y},t.default)),e.split===!1?S(we,{class:"q-btn-dropdown q-btn-dropdown--simple",...e,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,...i.value,onClick:k},()=>Q(t.label,[]).concat(v)):S(Dt,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},()=>[S(we,{class:"q-btn-dropdown--current",...e,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:l},t.label),S(we,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...i.value,disable:e.disable===!0||e.disableDropdown===!0,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple},()=>v)])}}});function Qe(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var ha=yt({name:"close-popup",beforeMount(e,{value:t}){const a={depth:Qe(t),handler(o){a.depth!==0&&setTimeout(()=>{const n=Kt(e);n!==void 0&&Ut(n,o,a.depth)})},handlerKey(o){fe(o,13)===!0&&a.handler(o)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:t,oldValue:a}){t!==a&&(e.__qclosepopup.depth=Qe(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),ma="/spark-store-qe/assets/application.bc4a430e.svg";function ga(){return kt(_t)}var ba=4,wa=.001,xa=1e-7,ya=10,Z=11,le=1/(Z-1),ka=typeof Float32Array=="function";function Ze(e,t){return 1-3*t+3*e}function Xe(e,t){return 3*t-6*e}function et(e){return 3*e}function de(e,t,a){return((Ze(t,a)*e+Xe(t,a))*e+et(t))*e}function tt(e,t,a){return 3*Ze(t,a)*e*e+2*Xe(t,a)*e+et(t)}function _a(e,t,a,o,n){var r,i,u=0;do i=t+(a-t)/2,r=de(i,o,n)-e,r>0?a=i:t=i;while(Math.abs(r)>xa&&++u<ya);return i}function Va(e,t,a,o){for(var n=0;n<ba;++n){var r=tt(t,a,o);if(r===0)return t;var i=de(t,a,o)-e;t-=i/r}return t}function Ea(e){return e}var qa=function(t,a,o,n){if(!(0<=t&&t<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===a&&o===n)return Ea;for(var r=ka?new Float32Array(Z):new Array(Z),i=0;i<Z;++i)r[i]=de(i*le,t,o);function u(d){for(var c=0,s=1,y=Z-1;s!==y&&r[s]<=d;++s)c+=le;--s;var k=(d-r[s])/(r[s+1]-r[s]),l=c+k*le,f=tt(l,t,o);return f>=wa?Va(d,l,t,o):f===0?l:_a(d,c,c+le,t,o)}return function(c){return c===0?0:c===1?1:de(u(c),a,n)}};const Sa=["src"],Ba={class:"description"},Ta={class:"detail"},Ca={class:"name"},Pa={class:"version"},$a={class:"tags"},La={class:"description"},Ma=Ct("BT\uFF08\u591A\u6E90\u4E0B\u8F7D\u66F4\u5FEB\uFF09"),Ia=["onMousedown","onMouseup"],za=["onTransitionend"],Ha=["src","onError"],Da={class:"description"},Wa={__name:"Sort",setup(e){const t=ga(),a=_(null),o=_({}),n=_({active:!1,animation:!1}),r=_({active:!1,animation:!1,loaded:!1,open:!1}),i=_({position:{left:0,top:0},class:{}}),u=Et(),d=qt(),c=St(),s=_([]),y=_(c.source),k=_(c.debSource),l=_(u.params.sort.toString());O(()=>{T(()=>u.params.sort,()=>{if(u.params.sort){async function x(){const b=await _e.getTypeList();let p;b.forEach(P=>{p=P.orig_name===u.params.sort?P.type_id:p}),p?(s.value=C(await _e.getApplicationList(p)),l.value=u.params.sort.toString(),cancelAnimationFrame(g.value.animationId),$(a.value.parentElement.parentElement.scrollTop,0)):await d.push("/Error404")}r.value.active?(r.value.active=!1,r.value.open=!1,r.value.loaded=!1,n.value.cover=!1,r.value.animation=!0,setTimeout(x,2e3)):x().catch(b=>{t.notify({type:"negative",message:b.toString()})})}},{immediate:!0})});const f={cardWidth:264,cardHeight:92,verticalPadding:50,horizonPadding:16,gap:32},q=_(0),B=w(()=>`${Math.ceil(s.value.length/v.value)*(f.cardHeight+f.gap)+f.gap+f.verticalPadding*1.5}px`),v=w(()=>Math.floor((q.value+f.gap-f.horizonPadding*2)/(f.cardWidth+f.gap))),m=w(()=>(q.value-(f.cardWidth+f.gap)*v.value+f.gap-f.horizonPadding*2)/(v.value+1));function C(x){x.forEach((p,P)=>{p.position={left:w(()=>P%v.value*(m.value+f.gap+f.cardWidth)+f.horizonPadding+m.value),top:w(()=>Math.floor(P/v.value)*(f.cardHeight+f.gap)+f.verticalPadding)},p.style=w(()=>`transform:translate(${p.position.left.value}px,${p.position.top.value}px)`),p.hasOwnProperty("class")||(p.class={active:!1,animation:!1,appCard:!0,cover:!1}),p.imgError=_(!1),p.imgSrc=w(()=>p.imgError.value?ma:`${y.value}/store/${l.value}/${p.package.replace("+","%2B")}/icon.png`)});const b=_(a.value.parentElement.parentElement.scrollTop);return o.value.style=w(()=>`--j-left:${i.value.position.left-q.value/2}px;--j-top:${i.value.position.top-a.value.parentElement.parentElement.clientHeight/2-b.value}px;`),a.value.parentElement.parentElement.addEventListener("scroll",Ie(()=>{g.value.animationId||(b.value=a.value.parentElement.parentElement.scrollTop)},250)),x}O(()=>{q.value=a.value.clientWidth,window.addEventListener("resize",Ie(()=>{q.value=a.value.clientWidth},250))});const g=_({originTop:0,targetTop:0,animationId:0});function $(x,b){let p;const P=b-x,M=qa(.25,.1,.25,1);function K(A){p===void 0&&(p=A);const oe=(A-p)/600;a.value.parentElement.parentElement.scrollTo(0,x+P*M(Math.min(oe,1))),oe<1?g.value.animationId=requestAnimationFrame(K):(g.value.targetTop=0,g.value.animationId=0)}g.value.animationId=requestAnimationFrame(K)}O(()=>{T(v,(x,b)=>{cancelAnimationFrame(g.value.animationId);const p=g.value.targetTop?g.value.targetTop:a.value.parentElement.parentElement.scrollTop;g.value.targetTop=(p-f.verticalPadding+a.value.parentElement.parentElement.clientHeight/2)*b/x-a.value.parentElement.parentElement.clientHeight/2+f.verticalPadding,$(a.value.parentElement.parentElement.scrollTop,g.value.targetTop)})});function ve(x){n.value.active=!0,n.value.animation=!0,i.value.class.cover=!1,x.class.active=!0,x.class.animation=!0,i.value=x,me(x.application_id)}function pe(x){n.value.active=!1,x.class.active=!1,x.class.cover=!0,r.value.active=!0,n.value.cover=!0}function L(x,b){b.propertyName==="transform"&&(n.value.animation=!1,x.class.animation=!1)}function he(x){x.propertyName==="transform"&&(r.value.animation=!1,i.value.class.cover=r.value.active,r.value.open=r.value.active)}const V=_({}),ae=w(()=>`${k.value}/store/${V.value.orig_name}/${V.value.package}/${V.value.package}_${V.value.version}_${V.value.arch}.deb`),ne=w(()=>`${y.value}/store/${V.value.orig_name}/${V.value.package}/${V.value.package}_${V.value.version}_${V.value.arch}.deb.torrent`);function me(x){_e.getApplicationDetail(x).then(b=>{V.value=b,r.value.loaded=!0}).catch(b=>{t.notify({type:"negative",message:b.toString()})})}return(x,b)=>(R(),G("div",{class:ye(["container",n.value]),style:ke({height:xe(B)}),ref_key:"container",ref:a},[E("div",{class:ye(["coverView",r.value]),onClick:b[5]||(b[5]=p=>{r.value.active=!1,r.value.open=!1,r.value.loaded=!1,n.value.cover=!1,r.value.animation=!0}),style:ke(o.value.style)},[E("div",{class:"card",onTransitionend:he,onClick:b[4]||(b[4]=ie(()=>{},["stop"]))},[E("div",{class:"cardView",onTransitionend:b[2]||(b[2]=ie(()=>{},["stop"]))},[E("img",{src:i.value.imgSrc,alt:"",onError:b[0]||(b[0]=p=>i.value.imgError=!0)},null,40,Sa),E("div",Ba,[E("h6",null,I(i.value.application_name_zh),1),E("p",null,I(i.value.more),1)]),E("div",Ta,[E("h1",Ca,I(V.value.application_name_zh),1),E("span",Pa,I(V.value.version),1),E("div",$a,[(R(!0),G(ze,null,He(V.value.tags,p=>(R(),G("span",{key:p},I(p),1))),128))]),E("p",La,I(V.value.more),1),re(pa,{split:"",ripple:!1,href:xe(ae),color:"primary",label:"\u4E0B\u8F7D\uFF08DEB\uFF09","menu-anchor":"bottom middle","menu-self":"top middle",padding:"sm xl",onClick:b[1]||(b[1]=ie(()=>{},["stop"]))},{default:Y(()=>[re(Ht,null,{default:Y(()=>[Bt((R(),Tt(zt,{clickable:"",href:xe(ne)},{default:Y(()=>[re(It,null,{default:Y(()=>[re(Mt,null,{default:Y(()=>[Ma]),_:1})]),_:1})]),_:1},8,["href"])),[[ha]])]),_:1})]),_:1},8,["href"])])],32),E("div",{class:"toolBox",onTransitionend:b[3]||(b[3]=ie(()=>{},["stop"]))},"\u67E5\u770B\u8BE6\u60C5",32)],32)],6),(R(!0),G(ze,null,He(s.value,(p,P)=>(R(),G("div",{style:ke(p.style),class:ye(["card",p.class]),key:P,onMousedown:M=>ve(p),onMouseup:M=>pe(p)},[E("div",{class:"cardView",onTransitionend:M=>L(p,M)},[E("img",{src:p.imgSrc,alt:"",onError:M=>p.imgError=!0},null,40,Ha),E("div",Da,[E("h6",null,I(p.application_name_zh),1),E("p",null,I(p.more),1)])],40,za)],46,Ia))),128))],6))}};var Qa=Vt(Wa,[["__scopeId","data-v-3f63eebc"]]);export{Qa as default};
