import{Q,a as V,b as I,c as N,d as $,A as F,C as R}from"./ApplicationPage-CDlRx5d7.js";import{u as U,Q as z}from"./use-meta-BIvYY-ex.js";import{d as H,y as L,ab as q,r as p,ac as G,p as O,c as g,o as W,w as j,z as J,A as f,G as S,D as l,C as t,a7 as d,I as v,ad as o,H as u,B as w,E as K,F as X,f as c,a8 as Y,V as Z,ae as ee,_ as ae}from"./index-C7NnRKns.js";import{u as k}from"./use-quasar-DDkTedKA.js";import te from"./SortPage-ReViacfS.js";import"./use-dark-aEGLaow-.js";import"./selection-DuwtZAYQ.js";import"./scroll-Cc_Qv8yh.js";import"./api-DAmkVPjC.js";import"./QScrollArea-CHPm9oEQ.js";import"./QResizeObserver-498hprzj.js";const oe=["src"],se={class:"description"},re={class:"detail"},ie=["src"],ne={class:"name"},le={class:"version"},ce={class:"tags"},ue={class:"description"},pe=H({__name:"StorePage",setup(de){U({title:"WEB商店",titleTemplate:n=>`${n} - 星火应用商店`,meta:{description:{name:"description",content:"星火应用商店spark store官网"},keywords:{name:"keywords",content:"spark store,星火应用商店,星火商店,星火应用商店下载,星火商店下载,deepin应用商店,uos,ubuntu,deepin"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}});const m=L(),h=q(),i=k(),b=p(i.debSource),y=p(i.source),{sortCache:e}=G(k()),s=p();O("appDetail",s);const D=g(()=>`${b.value}/${s?.value?.Filename}`),M=g(()=>`${y.value}/${s?.value?.Filename}.torrent`);function T(n){n.propertyName==="transform"&&(e.value.activeCard?.class&&(e.value.activeCard.class.cover=e.value.coverState.active),e.value.coverState.animation=!1,e.value.coverState.active?i.onOpened():e.value.coverState.open=!1,m.name==="application"&&(e.value.coverState.applicationEnd=!0))}const C=p({active:!1});function B(){C.value.active=!0}function E(){C.value.active=!1}const _=p({active:!1});function P(){_.value.active=!0}function x(){_.value.active=!1,e.value.activeCard?.Package&&h.push(`/store/application/${encodeURIComponent(e.value.activeCard?.Package.replaceAll(".","_dot_"))}`)}return W(()=>{j(()=>m.name,(n,a)=>{e.value.coverState.application=n==="application",n!=="application"&&a==="application"&&i.sortCache.activeCard&&i.cancelActiveCard()},{immediate:!0})}),(n,a)=>{const A=J("router-view");return f(),S(z,{class:"flex storePage"},{default:l(()=>[t("div",{class:v(["coverView",o(e).coverState]),onClick:a[7]||(a[7]=(...r)=>o(i).cancelActiveCard&&o(i).cancelActiveCard(...r)),style:ee(o(e).cover.style)},[t("div",{class:"card",onTransitionend:T,onClick:a[6]||(a[6]=d(()=>{},["stop"]))},[t("div",{class:v(["cardView",C.value]),onTransitionend:a[4]||(a[4]=d(()=>{},["stop"])),onMousedown:B,onMouseup:E},[t("img",{src:o(e).activeCard?.imgSrc,alt:"",onError:a[0]||(a[0]=()=>{o(e).activeCard&&(o(e).activeCard.imgError=!0)}),ref:r=>o(e).cover.imgMain=r},null,40,oe),t("div",se,[t("h6",null,u(o(e).activeCard?.Name),1),t("p",null,u(o(e).activeCard?.More),1)]),t("div",re,[t("img",{src:o(e).activeCard?.imgSrc,alt:"",onError:a[1]||(a[1]=()=>{s.value&&(s.value.imgError=!0)}),ref:r=>o(e).cover.imgDetail=r},null,40,ie),t("h1",ne,u(s.value?.Name),1),t("span",le,u(s.value?.Version),1),t("div",ce,[(f(!0),w(X,null,K(s.value?.Tags,r=>(f(),w("span",{key:r},u(r),1))),128))]),t("p",ue,u(s.value?.More),1),c($,{split:"",ripple:!1,href:D.value,color:"primary",label:"下载（DEB）","menu-anchor":"bottom middle","menu-self":"top middle",padding:"sm xl",onClick:a[2]||(a[2]=d(()=>{},["stop"])),onMousedown:a[3]||(a[3]=d(()=>{},["stop"]))},{default:l(()=>[c(Q,null,{default:l(()=>[Y((f(),S(V,{clickable:"",href:M.value},{default:l(()=>[c(I,null,{default:l(()=>[c(N,null,{default:l(()=>[Z("BT（多源下载更快）")]),_:1})]),_:1})]),_:1},8,["href"])),[[R]])]),_:1})]),_:1},8,["href"])])],34),t("div",{class:v(["toolBox",_.value]),onTransitionend:a[5]||(a[5]=d(()=>{},["stop"])),onMousedown:P,onMouseup:x}," 查看详情 ",34)],32)],6),c(A,null,{default:l(({})=>[c(te,{class:v({show:o(m).name==="sort"})},null,8,["class"]),c(F,{class:v({show:o(m).name==="application"})},null,8,["class"])]),_:1})]),_:1})}}}),ye=ae(pe,[["__scopeId","data-v-be652966"],["__file","StorePage.vue"]]);export{ye as default};
