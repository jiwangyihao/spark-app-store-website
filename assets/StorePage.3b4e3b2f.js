import{Q as U,a as q,b as z,c as H,d as L,A as G,C as W}from"./ApplicationPage.59e68909.js";import{u as Z,Q as j}from"./use-meta.57bb37ab.js";import{v as J,x as K,ao as O,r as c,ap as X,p as Y,c as y,o as ee,w as ae,y as te,z as f,G as h,C as r,B as o,aa as p,E as d,aq as u,H as l,A as x,D as oe,F as se,d as n,ak as ue,Z as re,ar as ne}from"./index.c3b897a7.js";import{u as P}from"./use-quasar.4134c3bc.js";import ie from"./SortPage.0a80ae7c.js";import{_ as le}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.f576822b.js";import"./selection.2d02cd40.js";import"./scroll.83c0d7c1.js";import"./api.ac7a10cc.js";import"./QScrollArea.1f49d4ed.js";import"./QResizeObserver.f37b76e5.js";const ce=["src"],pe={class:"description"},de={class:"detail"},ve={class:"name"},me={class:"version"},fe={class:"tags"},_e={class:"description"},Ee=J({__name:"StorePage",setup(Ce){Z({title:"WEB\u5546\u5E97",titleTemplate:t=>`${t} - \u661F\u706B\u5E94\u7528\u5546\u5E97`,meta:{description:{name:"description",content:"\u661F\u706B\u5E94\u7528\u5546\u5E97spark store\u5B98\u7F51"},keywords:{name:"keywords",content:"spark store,\u661F\u706B\u5E94\u7528\u5546\u5E97,\u661F\u706B\u5546\u5E97,\u661F\u706B\u5E94\u7528\u5546\u5E97\u4E0B\u8F7D,\u661F\u706B\u5546\u5E97\u4E0B\u8F7D,deepin\u5E94\u7528\u5546\u5E97,uos,ubuntu,deepin"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}});const v=K(),T=O(),i=P(),D=c(i.debSource),M=c(i.source),{sortCache:a}=X(P()),s=c();Y("appDetail",s);const b=y(()=>{var t;return`${D.value}/${(t=s==null?void 0:s.value)==null?void 0:t.Filename}`}),A=y(()=>{var t;return`${M.value}/${(t=s==null?void 0:s.value)==null?void 0:t.Filename}.torrent`});function Q(t){var e;t.propertyName==="transform"&&((e=a.value.activeCard)!=null&&e.class&&(a.value.activeCard.class.cover=a.value.coverState.active),a.value.coverState.animation=!1,a.value.coverState.open=a.value.coverState.active,v.name==="application"&&(a.value.coverState.applicationEnd=!0))}const _=c({active:!1});function N(){_.value.active=!0}function V(){_.value.active=!1}const E=c({active:!1});function $(){E.value.active=!0}function I(){var t,e;E.value.active=!1,(t=a.value.activeCard)!=null&&t.Package&&T.push(`/store/application/${encodeURIComponent((e=a.value.activeCard)==null?void 0:e.Package.replaceAll(".","_dot_"))}`)}return ee(()=>{ae(()=>v.name,(t,e)=>{a.value.coverState.application=t==="application",t!=="application"&&e==="application"&&i.sortCache.activeCard&&i.cancelActiveCard()},{immediate:!0})}),(t,e)=>{const R=te("router-view");return f(),h(j,{class:"flex storePage"},{default:r(()=>{var C,F,B,S,g,w,k;return[o("div",{class:d(["coverView",u(a).coverState]),onClick:e[6]||(e[6]=(...m)=>u(i).cancelActiveCard&&u(i).cancelActiveCard(...m)),style:ne(u(a).cover.style)},[o("div",{class:"card",onTransitionend:Q,onClick:e[5]||(e[5]=p(()=>{},["stop"]))},[o("div",{class:d(["cardView",_.value]),onTransitionend:e[3]||(e[3]=p(()=>{},["stop"])),onMousedown:N,onMouseup:V},[o("img",{src:(C=u(a).activeCard)==null?void 0:C.imgSrc,alt:"",onError:e[0]||(e[0]=()=>{u(a).activeCard&&(u(a).activeCard.imgError=!0)})},null,40,ce),o("div",pe,[o("h6",null,l((F=u(a).activeCard)==null?void 0:F.Name),1),o("p",null,l((B=u(a).activeCard)==null?void 0:B.More),1)]),o("div",de,[o("h1",ve,l((S=s.value)==null?void 0:S.Name),1),o("span",me,l((g=s.value)==null?void 0:g.Version),1),o("div",fe,[(f(!0),x(se,null,oe((w=s.value)==null?void 0:w.Tags,m=>(f(),x("span",{key:m},l(m),1))),128))]),o("p",_e,l((k=s.value)==null?void 0:k.More),1),n(L,{split:"",ripple:!1,href:b.value,color:"primary",label:"\u4E0B\u8F7D\uFF08DEB\uFF09","menu-anchor":"bottom middle","menu-self":"top middle",padding:"sm xl",onClick:e[1]||(e[1]=p(()=>{},["stop"])),onMousedown:e[2]||(e[2]=p(()=>{},["stop"]))},{default:r(()=>[n(U,null,{default:r(()=>[ue((f(),h(q,{clickable:"",href:A.value},{default:r(()=>[n(z,null,{default:r(()=>[n(H,null,{default:r(()=>[re("BT\uFF08\u591A\u6E90\u4E0B\u8F7D\u66F4\u5FEB\uFF09")]),_:1})]),_:1})]),_:1},8,["href"])),[[W]])]),_:1})]),_:1},8,["href"])])],34),o("div",{class:d(["toolBox",E.value]),onTransitionend:e[4]||(e[4]=p(()=>{},["stop"])),onMousedown:$,onMouseup:I}," \u67E5\u770B\u8BE6\u60C5 ",34)],32)],6),n(R,null,{default:r(({})=>[n(ie,{class:d({show:u(v).name==="sort"})},null,8,["class"]),n(G,{class:d({show:u(v).name==="application"})},null,8,["class"])]),_:1})]}),_:1})}}});var Me=le(Ee,[["__scopeId","data-v-63aa4915"]]);export{Me as default};
