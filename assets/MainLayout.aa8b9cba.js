import{j as F,r as f,c as b,o as Z,k as se,h as w,g as K,i as re,l as H,p as ee,m as ie,n as te,q as ue,s as ce,t as M,w as ae,a as ve,u as de,v as fe,x as le,y as S,z as j,A as h,d as p,B as P,F as N,C as E,D as V,E as A,G as Q,Q as I,H as he,I as pe,J as O,K as J}from"./index.9b6a48da.js";import{b as me,Q as ge,a as X}from"./QResizeObserver.c6be593e.js";import{g as W}from"./scroll.9dbe8462.js";import{_ as oe}from"./plugin-vue_export-helper.21dcd24c.js";const D=XMLHttpRequest,ne=D.prototype.open,_e=["top","right","bottom","left"];let R=[],L=0;function ye({p:e,pos:s,active:u,horiz:a,reverse:v,dir:r}){let o=1,c=1;return a===!0?(v===!0&&(o=-1),s==="bottom"&&(c=-1),{transform:`translate3d(${o*(e-100)}%,${u?0:c*-200}%,0)`}):(v===!0&&(c=-1),s==="right"&&(o=-1),{transform:`translate3d(${u?0:r*o*-200}%,${c*(e-100)}%,0)`})}function be(e,s){return typeof s!="number"&&(e<25?s=Math.random()*3+3:e<65?s=Math.random()*3:e<85?s=Math.random()*2:e<99?s=.6:s=0),me(e+s,0,100)}function xe(e){L++,R.push(e),!(L>1)&&(D.prototype.open=function(s,u){const a=[],v=()=>{R.forEach(o=>{(o.hijackFilter.value===null||o.hijackFilter.value(u)===!0)&&(o.start(),a.push(o.stop))})},r=()=>{a.forEach(o=>{o()})};this.addEventListener("loadstart",v,{once:!0}),this.addEventListener("loadend",r,{once:!0}),ne.apply(this,arguments)})}function $e(e){R=R.filter(s=>s.start!==e),L=Math.max(0,L-1),L===0&&(D.prototype.open=ne)}var we=F({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>_e.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:s}){const{proxy:u}=K(),a=f(0),v=f(!1),r=f(!0);let o=0,c=null,m;const g=b(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(r.value===!0?"":" no-transition")),C=b(()=>e.position==="top"||e.position==="bottom"),k=b(()=>C.value===!0?"height":"width"),$=b(()=>{const l=v.value,t=ye({p:a.value,pos:e.position,active:l,horiz:C.value,reverse:u.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:u.$q.lang.rtl===!0?-1:1});return t[k.value]=e.size,t.opacity=l?1:0,t}),x=b(()=>v.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":a.value}:{"aria-hidden":"true"});function _(l=300){const t=m;return m=Math.max(0,l)||0,o++,o>1?(t===0&&l>0?i():c!==null&&t>0&&l<=0&&(clearTimeout(c),c=null),o):(c!==null&&clearTimeout(c),s("start"),a.value=0,c=setTimeout(()=>{c=null,r.value=!0,l>0&&i()},v.value===!0?500:1),v.value!==!0&&(v.value=!0,r.value=!1),o)}function z(l){return o>0&&(a.value=be(a.value,l)),o}function n(){if(o=Math.max(0,o-1),o>0)return o;c!==null&&(clearTimeout(c),c=null),s("stop");const l=()=>{r.value=!0,a.value=100,c=setTimeout(()=>{c=null,v.value=!1},1e3)};return a.value===0?c=setTimeout(l,1):l(),o}function i(){a.value<100&&(c=setTimeout(()=>{c=null,z(),i()},m))}let d;return Z(()=>{e.skipHijack!==!0&&(d=!0,xe({start:_,stop:n,hijackFilter:b(()=>e.hijackFilter||null)}))}),se(()=>{c!==null&&clearTimeout(c),d===!0&&$e(_)}),Object.assign(u,{start:_,stop:n,increment:z}),()=>w("div",{class:g.value,style:$.value,...x.value})}}),Se=F({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:u}}=K(),a=re(te,H);if(a===H)return console.error("QPageContainer needs to be child of QLayout"),H;ee(ue,!0);const v=b(()=>{const r={};return a.header.space===!0&&(r.paddingTop=`${a.header.size}px`),a.right.space===!0&&(r[`padding${u.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(r.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(r[`padding${u.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),r});return()=>w("div",{class:"q-page-container",style:v.value},ie(s.default))}}),ke=F({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:u}){const{proxy:{$q:a}}=K(),v=f(null),r=f(a.screen.height),o=f(e.container===!0?0:a.screen.width),c=f({position:0,direction:"down",inflectionPoint:0}),m=f(0),g=f(ce.value===!0?0:W()),C=b(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),k=b(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),$=b(()=>g.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),x=b(()=>g.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function _(t){if(e.container===!0||document.qScrollPrevented!==!0){const y={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};c.value=y,e.onScroll!==void 0&&u("scroll",y)}}function z(t){const{height:y,width:B}=t;let q=!1;r.value!==y&&(q=!0,r.value=y,e.onScrollHeight!==void 0&&u("scrollHeight",y),i()),o.value!==B&&(q=!0,o.value=B),q===!0&&e.onResize!==void 0&&u("resize",t)}function n({height:t}){m.value!==t&&(m.value=t,i())}function i(){if(e.container===!0){const t=r.value>m.value?W():0;g.value!==t&&(g.value=t)}}let d=null;const l={instances:{},view:b(()=>e.view),isContainer:b(()=>e.container),rootRef:v,height:r,containerHeight:m,scrollbarWidth:g,totalWidth:b(()=>o.value+g.value),rows:b(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:M({size:0,offset:0,space:!1}),right:M({size:300,offset:0,space:!1}),footer:M({size:0,offset:0,space:!1}),left:M({size:300,offset:0,space:!1}),scroll:c,animate(){d!==null?clearTimeout(d):document.body.classList.add("q-body--layout-animate"),d=setTimeout(()=>{d=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,y,B){l[t][y]=B}};if(ee(te,l),W()>0){let B=function(){t=null,y.classList.remove("hide-scrollbar")},q=function(){if(t===null){if(y.scrollHeight>a.screen.height)return;y.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(B,300)},G=function(U){t!==null&&U==="remove"&&(clearTimeout(t),B()),window[`${U}EventListener`]("resize",q)},t=null;const y=document.body;ae(()=>e.container!==!0?"add":"remove",G),e.container!==!0&&G("add"),ve(()=>{G("remove")})}return()=>{const t=de(s.default,[w(ge,{onScroll:_}),w(X,{onResize:z})]),y=w("div",{class:C.value,style:k.value,ref:e.container===!0?void 0:v,tabindex:-1},t);return e.container===!0?w("div",{class:"q-layout-container overflow-hidden",ref:v},[w(X,{onResize:n}),w("div",{class:"absolute-full",style:$.value},[w("div",{class:"scroll",style:x.value},[y])])]):y}}});const ze=w("div",{class:"q-space"});var Y=F({name:"QSpace",setup(){return()=>ze}});const T=e=>(he("data-v-f957d102"),e=e(),pe(),e),Be=T(()=>h("h1",null,"Spark Store",-1)),je={class:"navBtnGroup"},Ce=T(()=>h("span",{class:"indicator"},null,-1)),Te={class:"label"},qe={class:"navBtnGroup"},Pe=T(()=>h("span",{class:"indicator"},null,-1)),Le={class:"label"},Me={class:"navBtn"},Qe=T(()=>h("span",{class:"indicator"},null,-1)),Re=T(()=>h("span",{class:"label"},"\u9996\u9875",-1)),Fe={class:"navBtnGroup"},Ge=T(()=>h("span",{class:"indicator"},null,-1)),He={class:"label"},Ne={__name:"NavigateBar",setup(e){const s=fe(),u=f({home:!s.path.match("store"),navigation:!0,hoverP:!1,hoverS:!1,primary:!(s.path.match("sort")||s.path.match("application")),secondary:s.path.match("sort")||s.path.match("application"),active:!0}),a=f([{id:1,name:"home",path:"/",label:"\u9996\u9875",active:!0,el:null},{id:2,name:"download",path:"/download",label:"\u4E0B\u8F7D",active:!1,el:null},{id:3,name:"store",path:"/store",label:"\u5546\u5E97",active:!1,el:null},{id:4,name:"forum",path:"/forum",label:"\u793E\u533A",active:!1,el:null},{id:5,name:"about",path:"/about",label:"\u5173\u4E8E",active:!1,el:null}]),v=f([{id:1,name:"recommend",path:"/store",label:"\u63A8\u8350",icon:"recommend",active:!0,el:null},{id:2,name:"rank",path:"/store/rank",label:"\u6392\u884C",icon:"format_list_numbered",active:!1,el:null},{id:3,name:"sort",path:"/store/sort/games",label:"\u5206\u7C7B",icon:"queue",active:!1,el:null}]),r=f([{id:1,name:"games",path:"/store/sort/games",label:"\u6E38\u620F",icon:"sports_esports",active:!0,el:null},{id:2,name:"network",path:"/store/sort/network",label:"\u7F51\u7EDC",icon:"travel_explore",active:!1,el:null},{id:3,name:"chat",path:"/store/sort/chat",label:"\u793E\u4EA4",icon:"question_answer",active:!1,el:null},{id:4,name:"music",path:"/store/sort/music",label:"\u97F3\u4E50",icon:"library_music",active:!1,el:null},{id:5,name:"video",path:"/store/sort/video",label:"\u89C6\u9891",icon:"smart_display",active:!1,el:null},{id:6,name:"image_graphics",path:"/store/sort/image_graphics",label:"\u56FE\u5F62",icon:"image",active:!1,el:null},{id:7,name:"office",path:"/store/sort/office",label:"\u529E\u516C",icon:"business_center",active:!1,el:null},{id:8,name:"reading",path:"/store/sort/reading",label:"\u9605\u8BFB",icon:"auto_stories",active:!1,el:null},{id:9,name:"development",path:"/store/sort/development",label:"\u5F00\u53D1",icon:"developer_board",active:!1,el:null},{id:10,name:"tools",path:"/store/sort/tools",label:"\u5DE5\u5177",icon:"handyman",active:!1,el:null},{id:11,name:"themes",path:"/store/sort/themes",label:"\u7F8E\u5316",icon:"extension",active:!1,el:null},{id:12,name:"others",path:"/store/sort/others",label:"\u5176\u4ED6",icon:"pending",active:!1,el:null}]),o=f({}),c=f({});for(const n of a.value)o.value[n.name]=n,c.value[n.path]=n;const m=f({}),g=f({});for(const n of v.value)m.value[n.name]=n,g.value[n.path]=n;const C=f({}),k=f({});for(const n of r.value)C.value[n.name]=n,k.value[n.path]=n;const $=f(a.value[0]),x=f(v.value[0]),_=f(v.value[0]);function z(n){return n.match("store")?n.match("sort")?k.value.hasOwnProperty(n)?[o.value.store,m.value.sort,k.value[n]]:[o.value.store,m.value.sort,r.value[0]]:n.match("application")?[o.value.store,m.value.sort,_.value]:g.value.hasOwnProperty(n)?[o.value.store,g.value[n],r.value[0]]:[o.value.store,v.value[0],r.value[0]]:c.value.hasOwnProperty(n)?[c.value[n],m.value.recommend,r.value[0]]:[a.value[0],m.value.recommend,r.value[0]]}return ae(()=>s.path,async n=>{$.value.active=!1,x.value.active=!1,_.value.active=!1;const i=z(n);$.value=i[0],x.value=i[1],_.value=i[2],$.value.active=!0,x.value.active=!0,_.value.active=!0,u.value.home=!s.path.match("store"),u.value.primary=!x.value.name.match("sort"),u.value.secondary=x.value.name.match("sort");for(const d of a.value)d.el.$el.style=`--j-offset:${($.value.id-d.id)*78}px`;for(const d of v.value)d.el.style=`--j-offset:${(x.value.id-d.id)*52}px`;for(const d of r.value)d.el.$el.style=`--j-offset:${(_.value.id-d.id)*52}px`}),Z(()=>{$.value.active=!1,x.value.active=!1,_.value.active=!1;const n=z(s.path);$.value=n[0],x.value=n[1],_.value=n[2],$.value.active=!0,x.value.active=!0,_.value.active=!0,u.value.home=!s.path.match("store");for(const i of a.value)i.el.$el.style=`--j-offset:${($.value.id-i.id)*78}px`;for(const i of v.value)i.el.style=`--j-offset:${(x.value.id-i.id)*52}px`;for(const i of r.value)i.el.$el.style=`--j-offset:${(_.value.id-i.id)*52}px`}),(n,i)=>{const d=le("router-link");return S(),j("span",{class:Q(u.value)},[h("header",null,[p(d,{to:"/",class:"logo"},{default:P(()=>[Be]),_:1}),p(Y),h("div",je,[(S(!0),j(N,null,E(a.value,l=>(S(),V(d,{to:l.path,class:Q(["navBtn",{active:l.active}]),ref_for:!0,ref:t=>{l.el=t},key:l.name},{default:P(()=>[Ce,h("span",Te,A(l.label),1)]),_:2},1032,["to","class"]))),128))])]),h("nav",{class:"primary",onMouseenter:i[1]||(i[1]=l=>u.value.hoverP=!0),onMouseleave:i[2]||(i[2]=l=>u.value.hoverP=!1)},[p(d,{to:"/",class:"logo"}),h("div",qe,[(S(!0),j(N,null,E(v.value,l=>(S(),j("div",{key:l.name,class:Q(["navBtn",{active:l.active}]),ref_for:!0,ref:t=>{l.el=t}},[Pe,p(I,{name:l.icon,size:"24px"},null,8,["name"]),h("span",Le,A(l.label),1),p(d,{to:l.path,class:"cover"},null,8,["to"])],2))),128)),p(Y),h("div",Me,[Qe,p(I,{name:"home",size:"24px"}),Re,p(d,{to:"/",class:"cover"})])]),h("span",{class:"activeCtrl",onClick:i[0]||(i[0]=l=>u.value.active=!u.value.active)})],32),h("nav",{class:"secondary",onMouseenter:i[3]||(i[3]=l=>u.value.hoverS=!0),onMouseleave:i[4]||(i[4]=l=>u.value.hoverS=!1)},[h("div",Fe,[(S(!0),j(N,null,E(r.value,l=>(S(),V(d,{to:l.path,class:Q(["navBtn",{active:l.active}]),ref_for:!0,ref:t=>{l.el=t},key:l.name},{default:P(()=>[Ge,p(I,{name:l.icon,size:"24px"},null,8,["name"]),h("span",He,A(l.label),1)]),_:2},1032,["to","class"]))),128))])],32)],2)}}};var Ee=oe(Ne,[["__scopeId","data-v-f957d102"]]);const Ae={key:0,class:"toolbox"},Ie={key:1,class:"dragArea"},Oe={__name:"MainLayout",setup(e){function s(){electron.min()}function u(){electron.max()}function a(){electron.close()}return(v,r)=>{const o=le("router-view");return S(),V(ke,{view:"lhr lpR fFf",class:"md3"},{default:P(()=>[p(we,{ref:"bar",position:"top",color:"primary"},null,512),v.$q.platform.is.electron?(S(),j("div",Ae,[p(O,{color:"white",padding:"xs",icon:"minimize",onClick:s}),p(O,{color:"white",padding:"xs","icon-right":"settings_ethernet",onClick:u}),p(O,{color:"white",padding:"xs",icon:"close",onClick:a})])):J("",!0),v.$q.platform.is.electron?(S(),j("div",Ie)):J("",!0),p(Ee),p(Se,{style:{overflow:"hidden"}},{default:P(()=>[p(o)]),_:1})]),_:1})}}};var Ue=oe(Oe,[["__scopeId","data-v-3149f392"]]);export{Ue as default};
