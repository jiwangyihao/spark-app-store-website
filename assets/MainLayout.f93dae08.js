import{f as R,r as p,c as x,o as J,j as ia,h as B,g as Z,a as ra,p as Y,k as sa,l as aa,m as la,n as ca,q as T,w as ta,b as va,s as da,_ as ea,u as pa,t as na,v as k,x as $,y as f,d as h,z as q,F as H,A as N,B as W,C as A,D as M,Q as E,E as ua,G as fa,H as I,I as K}from"./index.f8562a06.js";import{b as ha,Q as ma,a as U}from"./QResizeObserver.b190897e.js";import{g as O}from"./scroll.e82bce65.js";const V=XMLHttpRequest,oa=V.prototype.open,ga=["top","right","bottom","left"];let Q=[],L=0;function ba({p:a,pos:r,active:c,horiz:n,reverse:v,dir:s}){let o=1,u=1;return n===!0?(v===!0&&(o=-1),r==="bottom"&&(u=-1),{transform:`translate3d(${o*(a-100)}%,${c?0:u*-200}%,0)`}):(v===!0&&(u=-1),r==="right"&&(o=-1),{transform:`translate3d(${c?0:s*o*-200}%,${u*(a-100)}%,0)`})}function ya(a,r){return typeof r!="number"&&(a<25?r=Math.random()*3+3:a<65?r=Math.random()*3:a<85?r=Math.random()*2:a<99?r=.6:r=0),ha(a+r,0,100)}function xa(a){L++,Q.push(a),!(L>1)&&(V.prototype.open=function(r,c){const n=[],v=()=>{Q.forEach(o=>{(o.hijackFilter.value===null||o.hijackFilter.value(c)===!0)&&(o.start(),n.push(o.stop))})},s=()=>{n.forEach(o=>{o()})};this.addEventListener("loadstart",v,{once:!0}),this.addEventListener("loadend",s,{once:!0}),oa.apply(this,arguments)})}function wa(a){Q=Q.filter(r=>r.start!==a),L=Math.max(0,L-1),L===0&&(V.prototype.open=oa)}var _a=R({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:a=>ga.includes(a)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(a,{emit:r}){const{proxy:c}=Z(),n=p(0),v=p(!1),s=p(!0);let o=0,u,m;const g=x(()=>`q-loading-bar q-loading-bar--${a.position}`+(a.color!==void 0?` bg-${a.color}`:"")+(s.value===!0?"":" no-transition")),C=x(()=>a.position==="top"||a.position==="bottom"),S=x(()=>C.value===!0?"height":"width"),_=x(()=>{const e=v.value,t=ba({p:n.value,pos:a.position,active:e,horiz:C.value,reverse:c.$q.lang.rtl===!0&&["top","bottom"].includes(a.position)?a.reverse===!1:a.reverse,dir:c.$q.lang.rtl===!0?-1:1});return t[S.value]=a.size,t.opacity=e?1:0,t}),w=x(()=>v.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n.value}:{"aria-hidden":"true"});function b(e=300){const t=m;return m=Math.max(0,e)||0,o++,o>1?(t===0&&e>0?l():t>0&&e<=0&&clearTimeout(u),o):(clearTimeout(u),r("start"),n.value=0,u=setTimeout(()=>{s.value=!0,e>0&&l()},v.value===!0?500:1),v.value!==!0&&(v.value=!0,s.value=!1),o)}function z(e){return o>0&&(n.value=ya(n.value,e)),o}function i(){if(o=Math.max(0,o-1),o>0)return o;clearTimeout(u),r("stop");const e=()=>{s.value=!0,n.value=100,u=setTimeout(()=>{v.value=!1},1e3)};return n.value===0?u=setTimeout(e,1):e(),o}function l(){n.value<100&&(u=setTimeout(()=>{z(),l()},m))}let d;return J(()=>{a.skipHijack!==!0&&(d=!0,xa({start:b,stop:i,hijackFilter:x(()=>a.hijackFilter||null)}))}),ia(()=>{clearTimeout(u),d===!0&&wa(b)}),Object.assign(c,{start:b,stop:i,increment:z}),()=>B("div",{class:g.value,style:_.value,...w.value})}}),Ba=R({name:"QPageContainer",setup(a,{slots:r}){const{proxy:{$q:c}}=Z(),n=ra(aa,()=>{console.error("QPageContainer needs to be child of QLayout")});Y(la,!0);const v=x(()=>{const s={};return n.header.space===!0&&(s.paddingTop=`${n.header.size}px`),n.right.space===!0&&(s[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(s.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(s[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),s});return()=>B("div",{class:"q-page-container",style:v.value},sa(r.default))}}),ka=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:a=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(a.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(a,{slots:r,emit:c}){const{proxy:{$q:n}}=Z(),v=p(null),s=p(n.screen.height),o=p(a.container===!0?0:n.screen.width),u=p({position:0,direction:"down",inflectionPoint:0}),m=p(0),g=p(ca.value===!0?0:O()),C=x(()=>"q-layout q-layout--"+(a.container===!0?"containerized":"standard")),S=x(()=>a.container===!1?{minHeight:n.screen.height+"px"}:null),_=x(()=>g.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),w=x(()=>g.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function b(t){if(a.container===!0||document.qScrollPrevented!==!0){const y={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};u.value=y,a.onScroll!==void 0&&c("scroll",y)}}function z(t){const{height:y,width:G}=t;let P=!1;s.value!==y&&(P=!0,s.value=y,a.onScrollHeight!==void 0&&c("scroll-height",y),l()),o.value!==G&&(P=!0,o.value=G),P===!0&&a.onResize!==void 0&&c("resize",t)}function i({height:t}){m.value!==t&&(m.value=t,l())}function l(){if(a.container===!0){const t=s.value>m.value?O():0;g.value!==t&&(g.value=t)}}let d;const e={instances:{},view:x(()=>a.view),isContainer:x(()=>a.container),rootRef:v,height:s,containerHeight:m,scrollbarWidth:g,totalWidth:x(()=>o.value+g.value),rows:x(()=>{const t=a.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:T({size:0,offset:0,space:!1}),right:T({size:300,offset:0,space:!1}),footer:T({size:0,offset:0,space:!1}),left:T({size:300,offset:0,space:!1}),scroll:u,animate(){d!==void 0?clearTimeout(d):document.body.classList.add("q-body--layout-animate"),d=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),d=void 0},155)},update(t,y,G){e[t][y]=G}};if(Y(aa,e),O()>0){let G=function(){t=null,y.classList.remove("hide-scrollbar")},P=function(){if(t===null){if(y.scrollHeight>n.screen.height)return;y.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(G,300)},F=function(D){t!==null&&D==="remove"&&(clearTimeout(t),G()),window[`${D}EventListener`]("resize",P)},t=null;const y=document.body;ta(()=>a.container!==!0?"add":"remove",F),a.container!==!0&&F("add"),va(()=>{F("remove")})}return()=>{const t=da(r.default,[B(ma,{onScroll:b}),B(U,{onResize:z})]),y=B("div",{class:C.value,style:S.value,ref:a.container===!0?void 0:v,tabindex:-1},t);return a.container===!0?B("div",{class:"q-layout-container overflow-hidden",ref:v},[B(U,{onResize:i}),B("div",{class:"absolute-full",style:_.value},[B("div",{class:"scroll",style:w.value},[y])])]):y}}});const Sa=B("div",{class:"q-space"});var X=R({name:"QSpace",setup(){return()=>Sa}});const j=a=>(ua("data-v-5d83b9ae"),a=a(),fa(),a),za=j(()=>f("h1",null,"Spark Store",-1)),Ga={class:"navBtnGroup"},$a=j(()=>f("span",{class:"indicator"},null,-1)),Ca={class:"label"},ja={class:"navBtnGroup"},Pa=j(()=>f("span",{class:"indicator"},null,-1)),qa={class:"label"},La={class:"navBtn"},Ta=j(()=>f("span",{class:"indicator"},null,-1)),Ma=j(()=>f("span",{class:"label"},"\u9996\u9875",-1)),Qa={class:"navBtnGroup"},Ra=j(()=>f("span",{class:"indicator"},null,-1)),Fa={class:"label"},Ha={__name:"NavigateBar",setup(a){const r=pa(),c=p({home:!r.path.match("store"),navigation:!0,hoverP:!1,hoverS:!1,primary:!(r.path.match("sort")||r.path.match("application")),secondary:r.path.match("sort")||r.path.match("application"),active:!0}),n=p([{id:1,name:"home",path:"/",label:"\u9996\u9875",active:!0,el:null},{id:2,name:"download",path:"/download",label:"\u4E0B\u8F7D",active:!1,el:null},{id:3,name:"store",path:"/store",label:"\u5546\u5E97",active:!1,el:null},{id:4,name:"forum",path:"/forum",label:"\u793E\u533A",active:!1,el:null},{id:5,name:"about",path:"/about",label:"\u5173\u4E8E",active:!1,el:null}]),v=p([{id:1,name:"recommend",path:"/store",label:"\u63A8\u8350",icon:"recommend",active:!0,el:null},{id:2,name:"rank",path:"/store/rank",label:"\u6392\u884C",icon:"format_list_numbered",active:!1,el:null},{id:3,name:"sort",path:"/store/sort/games",label:"\u5206\u7C7B",icon:"queue",active:!1,el:null}]),s=p([{id:1,name:"games",path:"/store/sort/games",label:"\u6E38\u620F",icon:"sports_esports",active:!0,el:null},{id:2,name:"network",path:"/store/sort/network",label:"\u7F51\u7EDC",icon:"travel_explore",active:!1,el:null},{id:3,name:"chat",path:"/store/sort/chat",label:"\u793E\u4EA4",icon:"question_answer",active:!1,el:null},{id:4,name:"music",path:"/store/sort/music",label:"\u97F3\u4E50",icon:"library_music",active:!1,el:null},{id:5,name:"video",path:"/store/sort/video",label:"\u89C6\u9891",icon:"smart_display",active:!1,el:null},{id:6,name:"image_graphics",path:"/store/sort/image_graphics",label:"\u56FE\u5F62",icon:"image",active:!1,el:null},{id:7,name:"office",path:"/store/sort/office",label:"\u529E\u516C",icon:"business_center",active:!1,el:null},{id:8,name:"reading",path:"/store/sort/reading",label:"\u9605\u8BFB",icon:"auto_stories",active:!1,el:null},{id:9,name:"development",path:"/store/sort/development",label:"\u5F00\u53D1",icon:"developer_board",active:!1,el:null},{id:10,name:"tools",path:"/store/sort/tools",label:"\u5DE5\u5177",icon:"handyman",active:!1,el:null},{id:11,name:"themes",path:"/store/sort/themes",label:"\u7F8E\u5316",icon:"extension",active:!1,el:null},{id:12,name:"others",path:"/store/sort/others",label:"\u5176\u4ED6",icon:"pending",active:!1,el:null}]),o=p({}),u=p({});for(const i of n.value)o.value[i.name]=i,u.value[i.path]=i;const m=p({}),g=p({});for(const i of v.value)m.value[i.name]=i,g.value[i.path]=i;const C=p({}),S=p({});for(const i of s.value)C.value[i.name]=i,S.value[i.path]=i;const _=p(n.value[0]),w=p(v.value[0]),b=p(v.value[0]);function z(i){return i.match("store")?i.match("sort")?S.value.hasOwnProperty(i)?[o.value.store,m.value.sort,S.value[i]]:[o.value.store,m.value.sort,s.value[0]]:i.match("application")?[o.value.store,m.value.sort,b.value]:g.value.hasOwnProperty(i)?[o.value.store,g.value[i],s.value[0]]:[o.value.store,v.value[0],s.value[0]]:u.value.hasOwnProperty(i)?[u.value[i],m.value.recommend,s.value[0]]:[n.value[0],m.value.recommend,s.value[0]]}return ta(()=>r.path,async i=>{_.value.active=!1,w.value.active=!1,b.value.active=!1;const l=z(i);_.value=l[0],w.value=l[1],b.value=l[2],_.value.active=!0,w.value.active=!0,b.value.active=!0,c.value.home=!r.path.match("store"),c.value.primary=!w.value.name.match("sort"),c.value.secondary=w.value.name.match("sort");for(const d of n.value)d.el.$el.style=`--j-offset:${(_.value.id-d.id)*78}px`;for(const d of v.value)d.el.style=`--j-offset:${(w.value.id-d.id)*52}px`;for(const d of s.value)d.el.$el.style=`--j-offset:${(b.value.id-d.id)*52}px`}),J(()=>{_.value.active=!1,w.value.active=!1,b.value.active=!1;const i=z(r.path);_.value=i[0],w.value=i[1],b.value=i[2],_.value.active=!0,w.value.active=!0,b.value.active=!0,c.value.home=!r.path.match("store");for(const l of n.value)l.el.$el.style=`--j-offset:${(_.value.id-l.id)*78}px`;for(const l of v.value)l.el.style=`--j-offset:${(w.value.id-l.id)*52}px`;for(const l of s.value)l.el.$el.style=`--j-offset:${(b.value.id-l.id)*52}px`}),(i,l)=>{const d=na("router-link");return k(),$("span",{class:M(c.value)},[f("header",null,[h(d,{to:"/",class:"logo"},{default:q(()=>[za]),_:1}),h(X),f("div",Ga,[(k(!0),$(H,null,N(n.value,e=>(k(),W(d,{to:e.path,class:M(["navBtn",{active:e.active}]),ref_for:!0,ref:t=>{e.el=t},key:e.name},{default:q(()=>[$a,f("span",Ca,A(e.label),1)]),_:2},1032,["to","class"]))),128))])]),f("nav",{class:"primary",onMouseenter:l[1]||(l[1]=e=>c.value.hoverP=!0),onMouseleave:l[2]||(l[2]=e=>c.value.hoverP=!1)},[h(d,{to:"/",class:"logo"}),f("div",ja,[(k(!0),$(H,null,N(v.value,e=>(k(),$("div",{key:e.name,class:M(["navBtn",{active:e.active}]),ref_for:!0,ref:t=>{e.el=t}},[Pa,h(E,{name:e.icon,size:"24px"},null,8,["name"]),f("span",qa,A(e.label),1),h(d,{to:e.path,class:"cover"},null,8,["to"])],2))),128)),h(X),f("div",La,[Ta,h(E,{name:"home",size:"24px"}),Ma,h(d,{to:"/",class:"cover"})])]),f("span",{class:"activeCtrl",onClick:l[0]||(l[0]=e=>c.value.active=!c.value.active)})],32),f("nav",{class:"secondary",onMouseenter:l[3]||(l[3]=e=>c.value.hoverS=!0),onMouseleave:l[4]||(l[4]=e=>c.value.hoverS=!1)},[f("div",Qa,[(k(!0),$(H,null,N(s.value,e=>(k(),W(d,{to:e.path,class:M(["navBtn",{active:e.active}]),ref_for:!0,ref:t=>{e.el=t},key:e.name},{default:q(()=>[Ra,h(E,{name:e.icon,size:"24px"},null,8,["name"]),f("span",Fa,A(e.label),1)]),_:2},1032,["to","class"]))),128))])],32)],2)}}};var Na=ea(Ha,[["__scopeId","data-v-5d83b9ae"]]);const Aa={key:0,class:"toolbox"},Ea={key:1,class:"dragArea"},Ia={__name:"MainLayout",setup(a){function r(){electron.min()}function c(){electron.max()}function n(){electron.close()}return(v,s)=>{const o=na("router-view");return k(),W(ka,{view:"lhr lpR fFf",class:"md3"},{default:q(()=>[h(_a,{ref:"bar",position:"top",color:"primary"},null,512),v.$q.platform.is.electron?(k(),$("div",Aa,[h(I,{color:"white",padding:"xs",icon:"minimize",onClick:r}),h(I,{color:"white",padding:"xs","icon-right":"settings_ethernet",onClick:c}),h(I,{color:"white",padding:"xs",icon:"close",onClick:n})])):K("",!0),v.$q.platform.is.electron?(k(),$("div",Ea)):K("",!0),h(Na),h(Ba,{style:{overflow:"hidden"}},{default:q(()=>[h(o)]),_:1})]),_:1})}}};var Va=ea(Ia,[["__scopeId","data-v-5e8512c3"]]);export{Va as default};
