import{Q as q,a as z,b as H,c as L,d as G,A as O,C as W}from"./ApplicationPage.cd7fe61a.js";import{u as Z,Q as j}from"./use-meta.845974cd.js";import{d as J,x as K,ao as X,r as d,ap as Y,p as ee,c as h,o as ae,w as te,y as oe,z as f,G as x,C as i,B as o,aa as p,E as v,aq as s,H as c,A as D,D as se,F as re,f as l,ak as ue,Z as ne,ar as ie}from"./index.47983c54.js";import{u as M}from"./use-quasar.64890356.js";import le from"./SortPage.d22be377.js";import{_ as ce}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.0505aa20.js";import"./selection.0cb4229b.js";import"./scroll.33da46a4.js";import"./api.74bd1fae.js";import"./QScrollArea.d0c42c4c.js";import"./QResizeObserver.5a87ac03.js";const de=["src"],pe={class:"description"},ve={class:"detail"},me=["src"],fe={class:"name"},_e={class:"version"},Ee={class:"tags"},Ce={class:"description"},Fe=J({__name:"StorePage",setup(ge){Z({title:"WEB\u5546\u5E97",titleTemplate:t=>`${t} - \u661F\u706B\u5E94\u7528\u5546\u5E97`,meta:{description:{name:"description",content:"\u661F\u706B\u5E94\u7528\u5546\u5E97spark store\u5B98\u7F51"},keywords:{name:"keywords",content:"spark store,\u661F\u706B\u5E94\u7528\u5546\u5E97,\u661F\u706B\u5546\u5E97,\u661F\u706B\u5E94\u7528\u5546\u5E97\u4E0B\u8F7D,\u661F\u706B\u5546\u5E97\u4E0B\u8F7D,deepin\u5E94\u7528\u5546\u5E97,uos,ubuntu,deepin"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}});const m=K(),P=X(),n=M(),T=d(n.debSource),b=d(n.source),{sortCache:a}=Y(M()),r=d();ee("appDetail",r);const A=h(()=>{var t;return`${T.value}/${(t=r==null?void 0:r.value)==null?void 0:t.Filename}`}),Q=h(()=>{var t;return`${b.value}/${(t=r==null?void 0:r.value)==null?void 0:t.Filename}.torrent`});function N(t){var e;t.propertyName==="transform"&&((e=a.value.activeCard)!=null&&e.class&&(a.value.activeCard.class.cover=a.value.coverState.active),a.value.coverState.animation=!1,a.value.coverState.active?n.onOpened():a.value.coverState.open=!1,m.name==="application"&&(a.value.coverState.applicationEnd=!0))}const _=d({active:!1});function V(){_.value.active=!0}function $(){_.value.active=!1}const E=d({active:!1});function I(){E.value.active=!0}function R(){var t,e;E.value.active=!1,(t=a.value.activeCard)!=null&&t.Package&&P.push(`/store/application/${encodeURIComponent((e=a.value.activeCard)==null?void 0:e.Package.replaceAll(".","_dot_"))}`)}return ae(()=>{te(()=>m.name,(t,e)=>{a.value.coverState.application=t==="application",t!=="application"&&e==="application"&&n.sortCache.activeCard&&n.cancelActiveCard()},{immediate:!0})}),(t,e)=>{const U=oe("router-view");return f(),x(j,{class:"flex storePage"},{default:i(()=>{var C,F,g,B,S,w,k,y;return[o("div",{class:v(["coverView",s(a).coverState]),onClick:e[7]||(e[7]=(...u)=>s(n).cancelActiveCard&&s(n).cancelActiveCard(...u)),style:ie(s(a).cover.style)},[o("div",{class:"card",onTransitionend:N,onClick:e[6]||(e[6]=p(()=>{},["stop"]))},[o("div",{class:v(["cardView",_.value]),onTransitionend:e[4]||(e[4]=p(()=>{},["stop"])),onMousedown:V,onMouseup:$},[o("img",{src:(C=s(a).activeCard)==null?void 0:C.imgSrc,alt:"",onError:e[0]||(e[0]=()=>{s(a).activeCard&&(s(a).activeCard.imgError=!0)}),ref:u=>s(a).cover.imgMain=u},null,40,de),o("div",pe,[o("h6",null,c((F=s(a).activeCard)==null?void 0:F.Name),1),o("p",null,c((g=s(a).activeCard)==null?void 0:g.More),1)]),o("div",ve,[o("img",{src:(B=s(a).activeCard)==null?void 0:B.imgSrc,alt:"",onError:e[1]||(e[1]=()=>{r.value&&(r.value.imgError=!0)}),ref:u=>s(a).cover.imgDetail=u},null,40,me),o("h1",fe,c((S=r.value)==null?void 0:S.Name),1),o("span",_e,c((w=r.value)==null?void 0:w.Version),1),o("div",Ee,[(f(!0),D(re,null,se((k=r.value)==null?void 0:k.Tags,u=>(f(),D("span",{key:u},c(u),1))),128))]),o("p",Ce,c((y=r.value)==null?void 0:y.More),1),l(G,{split:"",ripple:!1,href:A.value,color:"primary",label:"\u4E0B\u8F7D\uFF08DEB\uFF09","menu-anchor":"bottom middle","menu-self":"top middle",padding:"sm xl",onClick:e[2]||(e[2]=p(()=>{},["stop"])),onMousedown:e[3]||(e[3]=p(()=>{},["stop"]))},{default:i(()=>[l(q,null,{default:i(()=>[ue((f(),x(z,{clickable:"",href:Q.value},{default:i(()=>[l(H,null,{default:i(()=>[l(L,null,{default:i(()=>[ne("BT\uFF08\u591A\u6E90\u4E0B\u8F7D\u66F4\u5FEB\uFF09")]),_:1})]),_:1})]),_:1},8,["href"])),[[W]])]),_:1})]),_:1},8,["href"])])],34),o("div",{class:v(["toolBox",E.value]),onTransitionend:e[5]||(e[5]=p(()=>{},["stop"])),onMousedown:I,onMouseup:R}," \u67E5\u770B\u8BE6\u60C5 ",34)],32)],6),l(U,null,{default:i(({})=>[l(le,{class:v({show:s(m).name==="sort"})},null,8,["class"]),l(O,{class:v({show:s(m).name==="application"})},null,8,["class"])]),_:1})]}),_:1})}}});var Ae=ce(Fe,[["__scopeId","data-v-bc08cf40"]]);export{Ae as default};
