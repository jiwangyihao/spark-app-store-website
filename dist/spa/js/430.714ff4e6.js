"use strict";(self["webpackChunkspark_store"]=self["webpackChunkspark_store"]||[]).push([[430],{1430:(a,e,l)=>{l.r(e),l.d(e,{default:()=>T});l(7098),l(5363);var t=l(3673),s=l(8880),n=l(2323),r=l(1959),i=l(9582),u=l(52),o=l.n(u),p=l(7849);const c={class:"topBar"},d={class:"search"},v={class:"body relative-position"},_={class:"rank",key:"recommend"},m=(0,t._)("h5",null,"施工ing...",-1),h=[m],w={class:"rank",key:"rank"},g=(0,t._)("h5",null,"施工ing...",-1),k=[g],y={class:"sort appList",key:"sort"},f=["src"],q={class:"wrap"},Z={class:"text"},Q=(0,t._)("i",null,null,-1),W=(0,t._)("i",null,null,-1),b=(0,t._)("i",null,null,-1),z=(0,t._)("i",null,null,-1),x=(0,t._)("i",null,null,-1),C=(0,t._)("i",null,null,-1),H=(0,t._)("i",null,null,-1),P={setup(a){const e=(0,i.yj)();(0,p.Z)({title:"WEB商店",titleTemplate:a=>`${a} - 星火应用商店`});const l=(0,r.iH)([]),u=(0,r.iH)("https://d.store.deepinos.org.cn"),m=(0,r.iH)("https://store.deepinos.org/api/"),g=(0,r.iH)(""),P=(0,r.iH)(!0),$=(0,r.iH)({});function j(){o().post(`${m.value}type/get_type_list`).then((a=>{a.data.data.forEach((a=>{$.value[a.orig_name]=a.type_id})),D(e.params)}))}function D(a){a.hasOwnProperty("sort")&&o().post(`${m.value}application/get_application_list`,{size:1e4,type_id:$.value[a.sort]}).then((a=>{l.value=a.data.data.data,P.value=!0}))}function I(a,e){console.log(a,e)}return(0,t.YP)((()=>e.params),(async a=>{a.hasOwnProperty("sort")?P.value=!1:l.value=[],D(a)})),(0,t.YP)((()=>e.path),(async a=>{a.match("store")&&(a.match("sorts")||(P.value=!1,setTimeout((()=>{P.value=!0}),200)))})),(0,t.bv)((()=>{e.params.hasOwnProperty("sort")&&(P.value=!1),j()})),(a,e)=>{const r=(0,t.up)("q-icon"),i=(0,t.up)("q-input"),o=(0,t.up)("q-avatar"),p=(0,t.up)("q-card-section"),m=(0,t.up)("q-card"),$=(0,t.up)("q-scroll-area"),j=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(j,{class:"flex storePage"},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",d,[(0,t.Wm)(r,{name:"search",size:"25px"}),(0,t.Wm)(i,{borderless:"",modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=a=>g.value=a)},{append:(0,t.w5)((()=>[""!==g.value?((0,t.wg)(),(0,t.j4)(r,{key:0,name:"clear",class:"cursor-pointer",onClick:e[0]||(e[0]=a=>g.value="")})):(0,t.kq)("",!0)])),_:1},8,["modelValue"])])]),(0,t.Wm)($,{style:{width:"100%","margin-top":"52px"},"thumb-style":{"z-index":1,"border-radius":"100px"},visible:!1},{default:(0,t.w5)((()=>[(0,t._)("div",v,[(0,t.Wm)(s.W3,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,t.w5)((()=>["/store"===a.$route.path&&P.value?((0,t.wg)(),(0,t.iD)("div",_,h)):(0,t.kq)("",!0),a.$route.path.match("rank")&&P.value?((0,t.wg)(),(0,t.iD)("div",w,k)):(0,t.kq)("",!0),a.$route.path.match("sort")&&P.value?((0,t.wg)(),(0,t.iD)("div",y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.value,((e,l)=>((0,t.wg)(),(0,t.j4)(m,{id:"app_"+l,key:l,onClick:a=>I(e.application_id,l)},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{horizontal:""},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{size:"64px",rounded:""},{default:(0,t.w5)((()=>[(0,t._)("img",{src:u.value+"/store/"+a.$route.params.sort+"/"+e.package.replace("+","%2B")+"/icon.png"},null,8,f)])),_:2},1024),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t._)("h6",null,(0,n.zw)(e.application_name_zh),1),(0,t._)("div",q,[(0,t._)("div",Z,(0,n.zw)(e.more),1)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["id","onClick"])))),128)),Q,W,b,z,x,C,H])):(0,t.kq)("",!0)])),_:1})])])),_:1})])),_:1})}}};var $=l(4379),j=l(4554),D=l(4553),I=l(1939),O=l(151),B=l(5589),V=l(5096),Y=l(4027),A=l(6115),E=l(7518),S=l.n(E);const T=P;S()(P,"components",{QPage:$.Z,QIcon:j.Z,QInput:D.Z,QScrollArea:I.Z,QCard:O.Z,QCardSection:B.Z,QAvatar:V.Z,QImg:Y.Z,QField:A.Z})}}]);